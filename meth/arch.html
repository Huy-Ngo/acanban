

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>System Architecture &mdash; Acanban 0.0.5 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Database design" href="database/index.html" />
    <link rel="prev" title="Technical Choices" href="choices.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Acanban
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obj.html">Objective</a></li>
<li class="toctree-l1"><a class="reference internal" href="../req/index.html">System Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Methodology</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="choices.html">Technical Choices</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">System Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/index.html">Database design</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation/index.html">Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../result/index.html">Results and Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conclusion/index.html">Conclusion and Future Work</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Acanban</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Methodology</a> &raquo;</li>
        
      <li>System Architecture</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/meth/arch.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-architecture">
<h1>System Architecture<a class="headerlink" href="#system-architecture" title="Permalink to this headline">¶</a></h1>
<p>All the data and business logic handling is done on the server side in order
to reduce workload for clients.</p>
<p>Since client only renders UI from HTML sent from server and send requests
to the server, its internal details are not discussed in this section.</p>
<p><a class="reference internal" href="#arch"><span class="std std-numref">Figure 1</span></a> describes the architecture for our system.
When a user access the site, a HTTPS request is sent to the server.
The ASGI web server Hypercorn will take this request.
Acanban module will process the request and make query to RethinkDB or IPFS
if needed and respond to the client.</p>
<div class="figure align-default" id="arch">
<p class="plantuml">
<img src="../_images/plantuml-bde89f79890a595791c0354615c28ec1705acf8c.svg" alt="left to right direction

node Client {
   node Browser
}

node Server {
   database &quot;RethinkDB&quot; as db
   component Acanban
   component Hypercorn
   component IPFS
}

Browser --- Hypercorn: HTTPS
Hypercorn -- Acanban
IPFS - Acanban
Acanban - db"/></p>
<p class="caption"><span class="caption-number">Figure 1 </span><span class="caption-text">Server-Client architecture</span><a class="headerlink" href="#arch" title="Permalink to this image">¶</a></p>
</div>
<p>Alternatively, a load balancer such as nginx can be added to distribute
the requests to multiple server as is shown in <a class="reference internal" href="#arch-alt"><span class="std std-numref">Figure 2</span></a>.
Multiple instances of acanban are run to process incoming requests.
They can write concurrently to a shared database.</p>
<div class="figure align-default" id="arch-alt">
<p class="plantuml">
<img src="../_images/plantuml-980cb0eb971ec83cd3025ea924ad6960ff24f8b4.svg" alt="&#64;startuml
skinparam Padding 10

node Client {
   node Browser
}

node &quot;Load Balancing Server&quot; {
component NGINX as nginx &lt;&lt;load balancer&gt;&gt;
}

node &quot;Web Server&quot; as server {
   component Acanban as acanban
   component Hypercorn as hypercorn
}

node &quot;Database cluster&quot; as db {
   database &quot;RethinkDB&quot; as r_1
   database &quot;RethinkDB&quot; as r_2
   database &quot;RethinkDB&quot; as r_3
   database &quot;RethinkDB&quot; as r_4
}

node &quot;IPFS Cluster&quot; as ipfs {
   component &quot;IPFS&quot; as i_1
   component &quot;IPFS&quot; as i_2
   component &quot;IPFS&quot; as i_3
   component &quot;IPFS&quot; as i_4
}

Browser -[norank]- nginx: HTTPS

nginx &quot;1&quot; --- &quot;1..*&quot; hypercorn

hypercorn - acanban
acanban &quot;1..*&quot; --- &quot;1..*&quot; db
acanban &quot;1..*&quot; --- &quot;1..*&quot; ipfs
&#64;enduml
"/></p>
<p class="caption"><span class="caption-number">Figure 2 </span><span class="caption-text">Alternative architecture with load balancer</span><a class="headerlink" href="#arch-alt" title="Permalink to this image">¶</a></p>
</div>
<p>However, we do not implement this architecture within the scope of this project,
due to following reasons:</p>
<ul class="simple">
<li><p>We do not have several servers to implement.</p></li>
<li><p>For intended use, the expected requests can go up to as many as 1000.
Load balancing for such few requests is overhead.</p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="database/index.html" class="btn btn-neutral float-right" title="Database design" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="choices.html" class="btn btn-neutral float-left" title="Technical Choices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020  Ngô Ngọc Đức Huy et al..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>