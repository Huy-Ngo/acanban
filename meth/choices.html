

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Technical Choices &mdash; Acanban 0.0.6 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="System Architecture" href="arch.html" />
    <link rel="prev" title="Methodology" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Acanban
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../obj.html">Objective</a></li>
<li class="toctree-l1"><a class="reference internal" href="../req/index.html">System Requirements</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Methodology</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Technical Choices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#concurrency">Concurrency</a></li>
<li class="toctree-l3"><a class="reference internal" href="#web-server-and-framework">Web Server and Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="#templating-language">Templating Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="#persistency">Persistency</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="arch.html">System Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="database/index.html">Database design</a></li>
<li class="toctree-l2"><a class="reference internal" href="implementation/index.html">Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../result.html">Results and Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../conclusion.html">Conclusion and Future Work</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/index.html">Appendix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Acanban</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Methodology</a> &raquo;</li>
        
      <li>Technical Choices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/meth/choices.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="technical-choices">
<h1>Technical Choices<a class="headerlink" href="#technical-choices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="concurrency">
<h2>Concurrency<a class="headerlink" href="#concurrency" title="Permalink to this headline">¶</a></h2>
<p>Since most, if not all, of the system’s use cases are I/O intensive,
it is natural to employ an asynchronous input/output framework to solve
concurrency issues.  <a class="reference external" href="https://trio.readthedocs.io">Trio</a> was picked for the ease of flow control offered
by <a class="reference external" href="https://vorpus.org/blog/notes-on-structured-concurrency-or-go-statement-considered-harmful/">structured concurrency</a>.</p>
</div>
<div class="section" id="web-server-and-framework">
<h2>Web Server and Framework<a class="headerlink" href="#web-server-and-framework" title="Permalink to this headline">¶</a></h2>
<p>As asynchronous input/output was chosen,
<a class="reference internal" href="../appendix/glossary.html#term-Asynchronous-Server-Gateway-Interface-ASGI"><span class="xref std std-term">ASGI</span></a> was needed
to cooperate the asynchronous routines in the application and the server.
For server, <a class="reference external" href="https://pgjones.gitlab.io/hypercorn">Hypercorn</a> was picked for its first-class support for Trio.
The application was built on top of <a class="reference external" href="https://pgjones.gitlab.io/quart-trio">Quart</a>, a microframework similar to <a class="reference external" href="https://flask.palletsprojects.com">Flask</a>
but for ASGI, for its flexibility.</p>
</div>
<div class="section" id="templating-language">
<h2>Templating Language<a class="headerlink" href="#templating-language" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="https://jinja.palletsprojects.com">Jinja2</a> for templating, which is the default choice for Quart.
It provides us with various tools that help secure the website easier.
For example, it allows HTML escaping <a class="reference internal" href="#jinja2esc" id="id1"><span>[jinja2esc]</span></a>,
which helps avoid XSS injection.</p>
</div>
<div class="section" id="persistency">
<h2>Persistency<a class="headerlink" href="#persistency" title="Permalink to this headline">¶</a></h2>
<p>For persistency, there are two separate concerns: storing the system’s metadata,
which is a collection of small chunks of plain text, and storing the files
uploaded by the users.  In the former case, <a class="reference external" href="https://rethinkdb.com">RethinkDB</a>, a <a class="reference external" href="https://en.wikipedia.org/wiki/Document-oriented_database">document-oriented
database</a>, was chosen for recursive and less-structured data support.
Such database, however, is performance-wise unsuitable for larger files,
so <a class="reference internal" href="../appendix/glossary.html#term-InterPlanetary-File-System-IPFS"><span class="xref std std-term">IPFS</span></a>,
which is a distributed file system that provides similar abstraction,
is used instead in the latter case.</p>
<p>By choosing RethinkDB instead of SQL,
we do not have to worry about SQL injection or similar database attack.
This is because the query language ReQL is not based on
string parsing <a class="reference internal" href="#rethinkdbdoc" id="id2"><span>[rethinkdbdoc]</span></a>, but built as methods
in the implementing language.</p>
<dl class="citation">
<dt class="label" id="jinja2esc"><span class="brackets"><a class="fn-backref" href="#id1">jinja2esc</a></span></dt>
<dd><p>The Pallets Project.  “Template Designer Documentation”.
<em>Jinja Documentation (2.11.x)</em>.  Retrieved 2021-01-18.
<a class="reference external" href="https://jinja.palletsprojects.com/en/2.11.x/templates/#html-escaping">https://jinja.palletsprojects.com/en/2.11.x/templates/#html-escaping</a></p>
</dd>
<dt class="label" id="rethinkdbdoc"><span class="brackets"><a class="fn-backref" href="#id2">rethinkdbdoc</a></span></dt>
<dd><p>RethinkDB. “Introduction to ReQL”.  Retrieved 2021-01-18.
<a class="reference external" href="https://rethinkdb.com/docs/introduction-to-reql/#reql-embeds-into-your-programming-language">https://rethinkdb.com/docs/introduction-to-reql/#reql-embeds-into-your-programming-language</a></p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="arch.html" class="btn btn-neutral float-right" title="System Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Methodology" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020  Ngô Ngọc Đức Huy et al..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>